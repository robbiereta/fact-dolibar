{"version":3,"sources":["index.js"],"names":["notas","require","partidas","Facturapi","facturapi","recibo","_callee","dataStr","C_xampp_htdocs_fact_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","encodeURIComponent","JSON","stringify","jquery","appendTo","receipts","create","payment_form","PaymentForm","EFECTIVO","items","sent","stop","App","_useForm","useForm","register","handleSubmit","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","onSubmit","data","imp","precio","newCon","product","description","product_key","price","unit_key","push","console","log","jsonCambio","Object","assign","type","placeholder","onClick","rootElement","document","getElementById","ReactDOM","render"],"mappings":"yNAQIA,eADUC,EAAQ,IACV,CACVC,SAAU,KAGNC,EAAYF,EAAQ,IAGpBG,EAAY,IAAID,EADb,qDAEOE,8EAAf,SAAAC,IAAA,IAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACKN,EACF,gCAAkCO,mBAAmBC,KAAKC,UAAUhB,IAEtEiB,IAAO,WAAaV,EAAU,sBAAsBW,SAAS,SAJ9DP,EAAAE,KAAA,EAKuBT,EAAUe,SAASC,OAAO,CAC9CC,aAAclB,EAAUmB,YAAYC,SACpCC,MAAOxB,EAAME,WAPhB,OAAAS,EAAAc,KAAA,wBAAAd,EAAAe,SAAApB,6BAoCC,SAASqB,IAAQ,IAAAC,EAGoBC,cAA3BC,EAHOF,EAGPE,SAAUC,EAHHH,EAGGG,aAMpB,OACEC,EAAAvB,EAAAwB,cAAA,QAAMC,SAAUH,EANC,SAACI,GAAD,OAiBrB,SAAoBA,GAElB,IAAIC,EAAMD,EAAKE,OAGXC,EAAS,CACXC,QAAS,CACPC,YAAa,QACbC,YAAa,WACbC,MAAON,EACPO,SAAU,QAId3C,EAAME,SAAS0C,KAAKN,GAEpBrB,IAAO,MAAMqB,EAAOC,QAAQG,MAAM,SAASxB,SAAS,SACpD2B,QAAQC,IAAIR,EAAOC,QAAQG,OAlCEK,CAAWZ,MAQpCH,EAAAvB,EAAAwB,cAAA,QAAAe,OAAAC,OAAA,CAAOC,KAAK,UAAapB,EAAS,UAAlC,CAA6CqB,YAAY,YACzDnB,EAAAvB,EAAAwB,cAAA,UAAQmB,QAAS/C,GAAjB,iBAEA2B,EAAAvB,EAAAwB,cAAA,SAAOiB,KAAK,YA0BlB,IAAMG,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOzB,EAAAvB,EAAAwB,cAACN,EAAD,MAAS0B","file":"static/js/main.9eaee06b.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport jquery from \"jquery\";\r\nimport bootstrap from \"bootstrap\";\r\nimport \"./styles.css\";\r\n\r\nvar jsonata = require(\"jsonata\");\r\nvar notas = {\r\n  partidas: []\r\n};\r\n\r\nconst Facturapi = require(\"facturapi\");\r\nvar live=\"sk_live_NpE3r9Rl4KadW4JQNm5WM17oXQVng6xZ\"\r\nvar test=\"sk_test_VN9W1bQmxaKq2e4j6x81ry870rkwYEXe\"\r\nconst facturapi = new Facturapi(test);\r\n async function recibo() {\r\n  var dataStr =\r\n    \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(notas));\r\n\r\n  jquery(\"<a href=\" + dataStr + \">download JSON</a>\").appendTo(\"#root\");\r\n  const receipt = await facturapi.receipts.create({\r\n    payment_form: Facturapi.PaymentForm.EFECTIVO,\r\n    items: notas.partidas\r\n    \r\n  });\r\n}\r\n\r\nasync function facturaGlobal() {\r\n  // confirm( \"La factura sera por:\"+result);\r\n  const invoice = await facturapi.invoices.create({\r\n    customer: {\r\n      legal_name: \"PUBLICO EN GENERAL\",\r\n      tax_id: \"XAXX010101000\"\r\n    },\r\n    items: notas.partidas,\r\n    payment_form: Facturapi.PaymentForm.EFECTIVO\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\nasync function total(params) {\r\n const invoice = await facturapi.receipts.createGlobalInvoice({\r\n\r\n});\r\n}\r\n\r\n\r\n\r\n  function App  () {\r\n  \r\n   \r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = (data) => jsonCambio(data);\r\n  \r\n \r\n\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n      <input type=\"number\" {...register(\"precio\")} placeholder=\"Precio\" />\r\n      <button onClick={recibo}> Hacer Recibo</button>\r\n     \r\n      <input type=\"submit\" />\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\nfunction jsonCambio(data) {\r\n  \r\n  var imp = data.precio;\r\n  var importesiniva = imp * 0.16;\r\n\r\n  var newCon = {\r\n    product: {\r\n      description: \"VENTA\",\r\n      product_key: \"01010101\",\r\n      price: imp,\r\n      unit_key: \"ACT\"\r\n    }\r\n  };\r\n\r\n  notas.partidas.push(newCon);\r\n\r\n  jquery(\"<p>\"+newCon.product.price+\" </p>\").appendTo(\"#root\");\r\n  console.log(newCon.product.price);\r\n  \r\n}\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}